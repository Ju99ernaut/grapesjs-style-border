{"version":3,"file":"index.js","mappings":"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","sources":["webpack://grapesjs-style-border/webpack/universalModuleDefinition","webpack://grapesjs-style-border/webpack/bootstrap","webpack://grapesjs-style-border/webpack/runtime/define property getters","webpack://grapesjs-style-border/webpack/runtime/hasOwnProperty shorthand","webpack://grapesjs-style-border/webpack/runtime/make namespace object","webpack://grapesjs-style-border/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://grapesjs-style-border/./src/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"grapesjs-style-border\"] = factory();\n\telse\n\t\troot[\"grapesjs-style-border\"] = factory();\n})(typeof globalThis !== 'undefined' ? globalThis : (typeof window !== 'undefined' ? window : this), () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export default (editor, opts = {}) => {\n  const options = {\n    ...{\n      // default options\n      sector: 'decorations',\n      originalBorder: {\n        sector: 'decorations',\n        name: 'border',\n      },\n      extendType: {},\n      extendWidth: {},\n      extendStyle: {},\n      extendColor: {},\n      extendBorder: {},\n      extendBorderTop: {},\n      extendBorderLeft: {},\n      extendBorderBottom: {},\n      extendBorderRight: {},\n      at: false,\n    }, ...opts\n  };\n\n  const sm = editor.Styles;\n  const borderProps = [];;\n  const pfx = editor.getConfig('stylePrefix');\n  const wSelector = `.${pfx}sm-property`; //.${pfx}sm-property__border-width`;\n  let typeProps;\n\n  const typeRadio = sm.getType('radio');\n  const propModel = typeRadio.model;\n\n  sm.addType('empty-radio', {\n    model: propModel.extend({\n      getStyle(opts = {}) {\n        return '';\n      },\n    }),\n    view: typeRadio.view\n  })\n\n  const borderType = {\n    property: 'border-type',\n    type: 'empty-radio',\n    default: 'all',\n    options: [\n      { value: 'all' },\n      { value: 'left' },\n      { value: 'right' },\n      { value: 'top' },\n      { value: 'bottom' },\n    ],\n    onChange({ property, to }) {\n      const { value } = to;\n      if (value) {\n        borderProps.forEach((borderProp) => {\n          const ext = value === 'all' ? '' : `-${value}`;\n          const { $el } = borderProp.view;\n          $el.show();\n          if (borderProp.get('property') !== `border${ext}`) $el.hide();\n          else typeProps.view.$el.insertBefore($el.find(wSelector).first());\n        });\n      }\n    },\n    ...options.extendType\n  }\n\n  const borderStyle = {\n    property: 'border-style',\n    type: 'select',\n    default: 'solid',\n    full: 'true',\n    options: [\n      { value: 'none' },\n      { value: 'solid' },\n      { value: 'dotted' },\n      { value: 'dashed' },\n      { value: 'double' },\n      { value: 'groove' },\n      { value: 'ridge' },\n      { value: 'inset' },\n      { value: 'outset' },\n    ],\n    ...options.extendStyle\n  }\n\n  const borderWidth = {\n    property: 'border-width',\n    units: ['px', 'em', 'rem', 'vh', 'vw'],\n    unit: 'px',\n    type: 'slider', //Seems slider doesn't work well with composite types\n    defaults: 1,\n    min: 0,\n    max: 20,\n    ...options.extendWidth\n  }\n\n  const borderColor = {\n    property: 'border-color',\n    type: 'color',\n    ...options.extendColor\n  }\n\n  const properties = [borderWidth, borderStyle, borderColor];\n\n  const borders = [\n    {\n      property: 'border',\n      type: 'composite',\n      properties,\n      ...options.extendBorder\n    },\n    {\n      property: 'border-top',\n      type: 'composite',\n      properties,\n      ...options.extendBorderTop\n    },\n    {\n      property: 'border-right',\n      type: 'composite',\n      properties,\n      ...options.extendBorderRight\n    },\n    {\n      property: 'border-bottom',\n      type: 'composite',\n      properties,\n      ...options.extendBorderBottom\n    },\n    {\n      property: 'border-left',\n      type: 'composite',\n      properties,\n      ...options.extendBorderLeft\n    },\n  ];\n\n  editor.on('load', () => {\n    const { originalBorder, sector, at } = options;\n    sm.removeProperty(originalBorder.sector, originalBorder.name);\n    typeProps = sm.addProperty(sector, borderType, at ? { at } : {});\n    borders.forEach((border) => {\n      borderProps.push(sm.addProperty(sector, border, at ? { at } : {}));\n    });\n\n    borderProps.forEach((borderProp) => {\n      const { $el } = borderProp.view;\n      if (borderProp.get('property') !== 'border') $el.hide();\n      else typeProps.view.$el.insertBefore($el.find(wSelector).first());\n    });\n  });\n};"],"names":["root","factory","exports","module","define","amd","globalThis","window","this","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","_defineProperty","configurable","writable","editor","typeProps","opts","options","sector","originalBorder","name","extendType","extendWidth","extendStyle","extendColor","extendBorder","extendBorderTop","extendBorderLeft","extendBorderBottom","extendBorderRight","at","sm","Styles","borderProps","pfx","getConfig","wSelector","typeRadio","getType","propModel","model","addType","extend","getStyle","view","borderType","property","type","default","onChange","to","forEach","borderProp","ext","$el","show","hide","insertBefore","find","first","borderStyle","full","borderWidth","units","unit","defaults","min","max","borderColor","properties","borders","on","removeProperty","addProperty","border","push"],"sourceRoot":""}